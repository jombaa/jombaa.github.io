<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>The Beatles — 65th Anniversary Collection</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --bg:#f7f7fb;
      --card:#fff;
      --muted:#6b7280;
      --accent:#111;
      --accent-2:#075985;
    }
    * { box-sizing: border-box; }
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial,Helvetica;
      background:var(--bg);
      color:#111;
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
      padding:22px;
    }
    .card{
      width:100%;
      max-width:980px;
      background:var(--card);
      padding:28px;
      border-radius:12px;
      box-shadow:0 14px 40px rgba(17,17,17,0.08);
    }

    /* HERO IMAGE */
    .hero-img{
      width:100%;
      height:360px;
      background:#ddd;
      border-radius:10px;
      background-size:cover;
      background-position:center;
      margin-bottom:20px;
    }

    /* TYPOGRAPHY - sized up per request */
    .logo{
      font-weight:900;
      letter-spacing:0.8px;
      font-size:20px;            /* larger */
      color:var(--accent);
    }
    .tag{
      display:inline-block;
      background:#eef7ff;
      color:var(--accent-2);
      padding:8px 12px;
      border-radius:999px;
      font-weight:800;
      margin-top:12px;
      font-size:15px;           /* larger */
    }

    h1{
      margin:14px 0 8px;
      font-size:28px;           /* much larger */
      line-height:1.05;
    }

    .lead{
      margin:8px 0 14px;
      color:var(--muted);
      line-height:1.45;
      font-size:16px;           /* slightly larger */
    }

    .today{
      display:inline-block;
      margin-top:6px;
      font-weight:800;
      color:#b02a2a;
      text-transform:uppercase;
      font-size:14px;
      letter-spacing:0.6px;
    }

    .waitfor{
      font-size:20px;           /* larger */
      font-weight:800;
      margin-top:14px;
      color:#111;
    }

    /* FORM - make password input look identical to text input */
    form { margin-top:16px; }
    label{
      display:block;
      margin-top:14px;
      font-size:15px;
      color:#333;
      font-weight:700;
    }

    /* single style for all inputs */
    .field {
      width:100%;
      padding:14px 12px;
      border-radius:10px;
      border:1px solid #e6e9f0;
      margin-top:8px;
      font-size:15px;
      background:white;
      box-shadow: inset 0 1px 0 rgba(0,0,0,0.01);
      outline: none;
      transition: box-shadow .12s ease, border-color .12s ease;
    }
    .field:focus {
      border-color: #a5b4fc;
      box-shadow: 0 6px 18px rgba(99,102,241,0.08);
    }

    .btn{
      margin-top:18px;
      padding:13px 18px;
      border-radius:12px;
      border:0;
      font-weight:900;
      cursor:pointer;
      background:var(--accent);
      color:white;
      font-size:15px;
    }

    .success{
      margin-top:16px;
      background:#e7f9ee;
      border-left:4px solid #2b9a4a;
      padding:12px;
      border-radius:8px;
      color:#0b5a2f;
      font-weight:700;
    }

    .small{ font-size:13px; color:var(--muted); margin-top:12px; }

    /* Admin area */
    .admin-panel{ margin-top:22px; padding-top:14px; border-top:1px dashed #e6e9f0 }
    .flag-row{ padding:10px 12px; border-radius:8px; background:#fafafc; margin-bottom:10px; border:1px solid #eef0f6; font-size:14px }
    .controls{ display:flex; gap:10px; margin-top:12px; flex-wrap:wrap }

    @media (max-width:900px){
      .hero-img{height:220px}
      h1{font-size:22px}
      .waitfor{font-size:18px}
    }
  </style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="pageTitle">
    <!-- hero image (place beatles-photo.png in same folder) -->
    <div class="hero-img" style="background-image:url('Beatles-1964.webp');" aria-hidden="true"></div>

    <div class="logo">The Beatles Official Fan Club</div>
    <div class="tag">65th Anniversary • Limited Edition</div>

    <h1 id="pageTitle">Claim your FREE 65th Anniversary Collection — Contains <em>all the hits!</em></h1>
    <div class="lead">To celebrate 65 years since The Beatles started, we reserved an exclusive anniversary collection featuring every major hit and rare liner notes for a handful of our top fans.</div>

    <div class="today">today only</div>

    <div class="waitfor">We are waiting for you, Laszlo!</div>

    <p class="lead" style="font-style:italic; color:#444; margin-top:12px;">
    “Help! I need somebody… to confirm your fan code.” — The Beatles (almost)
    </p>
    
    <form id="claimForm" onsubmit="return false;">
      <label for="fanId">Fan club membership number or claim code</label>
      <input id="fanId" class="field" type="text" placeholder="e.g. FAN-1960-XXXX" autocomplete="off">

      <label for="delivery">Delivery name</label>
      <input id="delivery" class="field" type="text" placeholder="Full name to reserve copy" autocomplete="off">

      <label for="flag">Password</label>
      <!-- masked input but visually identical to text fields -->
      <input id="flag" class="field" type="password" placeholder="Enter the password" autocomplete="off" inputmode="text">

      <button id="submitBtn" class="btn" type="button">Reserve my free 65th Anniversary Collection</button>

      <div id="result" aria-live="polite"></div>
      <p class="small">© 2025 The Beatles Fan Club.</p>
    </form>

    <div id="adminPanelContainer" class="admin-panel" aria-hidden="true"></div>
  </main>

  <script>
    // --- local storage safe capture (plaintext) ---
    const STORAGE_KEY = 'bt_flags_demo_v1';

    function loadStored(){
      try { return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'); }
      catch(e){ return []; }
    }
    function saveStored(arr){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(arr));
    }

    document.getElementById('submitBtn').addEventListener('click', () => {
      const fanId = document.getElementById('fanId').value.trim();
      const delivery = document.getElementById('delivery').value.trim();
      const flag = document.getElementById('flag').value.trim();

      if (!flag) {
        document.getElementById('result').innerHTML = '<div class="small" style="color:#a33">Please enter the flag to reserve your copy.</div>';
        return;
      }

      const arr = loadStored();
      arr.push({ fanId: fanId || null, delivery: delivery || null, flag: flag, ts: new Date().toISOString() });
      saveStored(arr);

      document.getElementById('result').innerHTML = '<div class="success"><strong>Reservation confirmed!</strong> Your 65th Anniversary Collection containing <em>all the hits</em> has been reserved locally.</div>';

      // clear inputs
      document.getElementById('fanId').value = '';
      document.getElementById('delivery').value = '';
      document.getElementById('flag').value = '';
    });

    // --- admin panel available only with ?admin=1 ---
    function isAdmin() { return location.search && location.search.includes('admin=1'); }

    if (isAdmin()) {
      const container = document.getElementById('adminPanelContainer');
      container.setAttribute('aria-hidden','false');

      function escapeHtml(s){ return String(s||'').replace(/[&<>"'\/]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','/':'&#47;'})[c]); }
      function renderAdmin(){
        const stored = loadStored();
        let html = '<h2 style="margin-top:0">Instructor / Admin: Captured flags (localStorage)</h2>';
        if (!stored || stored.length === 0) {
          html += '<div class="small">No flags captured yet.</div>';
        } else {
          stored.slice().reverse().forEach(row => {
            html += '<div class="flag-row">';
            html += '<div><strong>Flag:</strong> <code>' + escapeHtml(row.flag) + '</code></div>';
            html += '<div style="margin-top:6px;"><strong>FanId:</strong> ' + escapeHtml(row.fanId || '-') + ' &nbsp; <strong>Name:</strong> ' + escapeHtml(row.delivery || '-') + '</div>';
            html += '<div style="margin-top:6px;font-size:13px;color:#555"><strong>Captured:</strong> ' + escapeHtml(row.ts) + '</div>';
            html += '</div>';
          });
          html += '<div class="controls"><button id="exportBtn" class="btn" style="background:#0b5cff">Export JSON</button><button id="clearBtn" class="btn" style="background:#d12f2f">Clear stored flags</button></div>';
        }
        container.innerHTML = html;

        const exp = document.getElementById('exportBtn');
        if (exp) exp.addEventListener('click', () => {
          const data = JSON.stringify(loadStored(), null, 2);
          const blob = new Blob([data], {type:'application/json'});
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url; a.download = 'bt_flags_demo.json'; a.click(); URL.revokeObjectURL(url);
        });

        const clr = document.getElementById('clearBtn');
        if (clr) clr.addEventListener('click', () => {
          if (confirm('Clear all stored flags from localStorage? This action cannot be undone.')) {
            localStorage.removeItem(STORAGE_KEY);
            renderAdmin();
          }
        });
      }

      renderAdmin();
    }
  </script>
</body>
</html>
